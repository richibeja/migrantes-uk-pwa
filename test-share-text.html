<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test - Texto de Compartir Anbel IA</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: #1a1a1a;
            color: white;
        }
        .container {
            background: #2a2a2a;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }
        .prediction-box {
            background: #333;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
        }
        .numbers {
            font-size: 24px;
            font-weight: bold;
            color: #FFD700;
            text-align: center;
            margin: 10px 0;
        }
        .share-text {
            background: #444;
            padding: 15px;
            border-radius: 8px;
            white-space: pre-line;
            font-size: 14px;
            line-height: 1.4;
        }
        .test-button {
            background: #FFD700;
            color: black;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            margin: 10px 5px;
        }
        .test-button:hover {
            background: #FFA500;
        }
        .success {
            color: #4CAF50;
        }
        .error {
            color: #f44336;
        }
    </style>
</head>
<body>
    <h1>üß™ Test - Texto de Compartir Anbel IA</h1>
    
    <div class="container">
        <h2>üéØ Predicci√≥n de Prueba</h2>
        <div class="prediction-box">
            <h3>Powerball</h3>
            <div class="numbers" id="numbers">7, 14, 21, 35, 42 + 18</div>
            <p>Confianza: 87%</p>
        </div>
        
        <button class="test-button" onclick="testShareText()">üß™ Probar Texto de Compartir</button>
        <button class="test-button" onclick="testWhatsApp()">üì± Probar WhatsApp</button>
        <button class="test-button" onclick="copyShareText()">üìã Copiar Texto</button>
    </div>
    
    <div class="container">
        <h2>üìù Texto Generado</h2>
        <div class="share-text" id="shareTextDisplay"></div>
    </div>
    
    <div class="container">
        <h2>‚úÖ Verificaciones</h2>
        <div id="verifications"></div>
    </div>

    <script>
        // Simulaci√≥n de la funci√≥n generateShareText de Anbel IA
        function generateShareText(prediction, lottery, language = 'es') {
            const numbers = prediction.numbers.join(', ');
            // Incluir n√∫meros especiales (Powerball, Mega Ball, etc.)
            const bonusNumbers = prediction.bonusNumbers ? ` + ${prediction.bonusNumbers.join(', ')}` : '';
            const confidence = Math.round(prediction.confidence * 100);
            const appUrl = 'https://gana-facil.vercel.app';
            const dashboardUrl = `${appUrl}/dashboard`;
            
            if (language === 'es') {
                return `¬°Hola! üëã\n\n` +
                       `Estoy usando una app incre√≠ble de IA que me est√° generando n√∫meros de loter√≠a con an√°lisis matem√°tico real. ` +
                       `Los resultados han sido sorprendentes.\n\n` +
                       `üéØ **${lottery} - Pr√≥ximo sorteo:**\n` +
                       `N√∫meros: ${numbers}${bonusNumbers}\n` +
                       `Confianza del an√°lisis: ${confidence}%\n\n` +
                       `üí∞ **Mi propuesta:**\n` +
                       `Te comparto estos n√∫meros y si ganas algo, compartimos:\n` +
                       `‚Ä¢ T√∫ te quedas con el 85%\n` +
                       `‚Ä¢ Yo 15% por compartir la predicci√≥n\n` +
                       `‚Ä¢ ¬°Ambos ganamos! ü§ù\n\n` +
                       `ü§ñ **Esta app es incre√≠ble** - analiza 200 sorteos hist√≥ricos, usa 6 algoritmos matem√°ticos y APIs en tiempo real. ` +
                       `Yo juego mis n√∫meros y tambi√©n los comparto porque tengo m√°s chances de ganar.\n\n` +
                       `**T√∫ no necesitas tenerla** - yo ya la tengo y me est√° dando resultados. ` +
                       `Solo te comparto los n√∫meros y jugamos juntos. üçÄ\n\n` +
                       `¬øTe animas? Sin riesgo para ti.\n\n` +
                       `PD: Si alg√∫n d√≠a te interesa, la app es: ${appUrl}`;
            } else {
                return `Hello! üëã\n\n` +
                       `I'm using an incredible AI app that's generating lottery numbers with real mathematical analysis. ` +
                       `The results have been amazing.\n\n` +
                       `üéØ **${lottery} - Next draw:**\n` +
                       `Numbers: ${numbers}${bonusNumbers}\n` +
                       `Analysis confidence: ${confidence}%\n\n` +
                       `üí∞ **My proposal:**\n` +
                       `I'll share these numbers with you and if you win something, we share:\n` +
                       `‚Ä¢ You keep 85%\n` +
                       `‚Ä¢ I get 15% for sharing the prediction\n` +
                       `‚Ä¢ We both win! ü§ù\n\n` +
                       `ü§ñ **This app is incredible** - it analyzes 200 historical draws, uses 6 mathematical algorithms and real-time APIs. ` +
                       `I play my numbers and also share them because I have more chances to win.\n\n` +
                       `**You don't need to have it** - I already have it and it's giving me results. ` +
                       `I just share the numbers and we play together. üçÄ\n\n` +
                       `Want to try? No risk for you.\n\n` +
                       `PS: If you're ever interested, the app is: ${appUrl}`;
            }
        }

        // Predicci√≥n de prueba
        const testPrediction = {
            numbers: [7, 14, 21, 35, 42],
            bonusNumbers: [18],
            confidence: 0.87
        };

        function testShareText() {
            const shareText = generateShareText(testPrediction, 'Powerball', 'es');
            document.getElementById('shareTextDisplay').textContent = shareText;
            
            // Verificaciones
            const verifications = [];
            
            // ‚úÖ Verificar que incluye 6 n√∫meros (5 + 1 bonus)
            const hasAllNumbers = shareText.includes('7, 14, 21, 35, 42 + 18');
            verifications.push({
                test: 'Incluye 6 n√∫meros completos (5 principales + 1 Powerball)',
                result: hasAllNumbers,
                details: hasAllNumbers ? '‚úÖ Correcto: 7, 14, 21, 35, 42 + 18' : '‚ùå Faltan n√∫meros'
            });
            
            // ‚úÖ Verificar que incluye el enlace
            const hasLink = shareText.includes('https://gana-facil.vercel.app');
            verifications.push({
                test: 'Incluye enlace de la app',
                result: hasLink,
                details: hasLink ? '‚úÖ Correcto: Enlace incluido' : '‚ùå Falta enlace'
            });
            
            // ‚úÖ Verificar que incluye la propuesta de ganancias compartidas
            const hasProposal = shareText.includes('85%') && shareText.includes('15%');
            verifications.push({
                test: 'Incluye propuesta de ganancias compartidas (85%-15%)',
                result: hasProposal,
                details: hasProposal ? '‚úÖ Correcto: 85%-15% incluido' : '‚ùå Falta propuesta'
            });
            
            // ‚úÖ Verificar que incluye confianza
            const hasConfidence = shareText.includes('87%');
            verifications.push({
                test: 'Incluye porcentaje de confianza',
                result: hasConfidence,
                details: hasConfidence ? '‚úÖ Correcto: 87% incluido' : '‚ùå Falta confianza'
            });
            
            // ‚úÖ Verificar que es amigable (no agresivo)
            const isFriendly = shareText.includes('¬°Hola!') && shareText.includes('¬øTe animas?') && shareText.includes('Sin riesgo para ti');
            verifications.push({
                test: 'Mensaje amigable y no agresivo',
                result: isFriendly,
                details: isFriendly ? '‚úÖ Correcto: Tono amigable' : '‚ùå Mensaje muy agresivo'
            });
            
            // Mostrar resultados
            const verificationsDiv = document.getElementById('verifications');
            verificationsDiv.innerHTML = verifications.map(v => `
                <div style="margin: 10px 0; padding: 10px; background: ${v.result ? '#1B4332' : '#4A0E0E'}; border-radius: 5px;">
                    <strong>${v.test}:</strong><br>
                    <span class="${v.result ? 'success' : 'error'}">${v.details}</span>
                </div>
            `).join('');
            
            // Resumen
            const passedTests = verifications.filter(v => v.result).length;
            const totalTests = verifications.length;
            const summary = document.createElement('div');
            summary.style.cssText = 'margin: 20px 0; padding: 15px; background: #333; border-radius: 8px; text-align: center; font-size: 18px; font-weight: bold;';
            summary.innerHTML = passedTests === totalTests 
                ? `üéâ <span class="success">TODOS LOS TESTS PASARON (${passedTests}/${totalTests})</span>`
                : `‚ö†Ô∏è <span class="error">${passedTests}/${totalTests} tests pasaron</span>`;
            verificationsDiv.appendChild(summary);
        }

        function testWhatsApp() {
            const shareText = generateShareText(testPrediction, 'Powerball', 'es');
            const whatsappUrl = `https://wa.me/?text=${encodeURIComponent(shareText)}`;
            window.open(whatsappUrl, '_blank');
        }

        function copyShareText() {
            const shareText = generateShareText(testPrediction, 'Powerball', 'es');
            navigator.clipboard.writeText(shareText).then(() => {
                alert('¬°Texto copiado al portapapeles!');
            });
        }

        // Auto-ejecutar test al cargar
        window.onload = function() {
            testShareText();
        };
    </script>
</body>
</html>
