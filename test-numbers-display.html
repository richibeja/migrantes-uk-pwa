<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test - Visualizaci√≥n de N√∫meros Completos</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background: #1a1a1a;
            color: white;
        }
        .container {
            background: #2a2a2a;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }
        .prediction-box {
            background: #333;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
        }
        .numbers {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            align-items: center;
            margin: 15px 0;
        }
        .number {
            background: #FFD700;
            color: black;
            padding: 8px 12px;
            border-radius: 8px;
            font-weight: bold;
            min-width: 40px;
            text-align: center;
        }
        .bonus-number {
            background: #8B5CF6;
            color: white;
            padding: 8px 12px;
            border-radius: 8px;
            font-weight: bold;
            min-width: 40px;
            text-align: center;
            border: 2px solid #A855F7;
        }
        .powerball {
            background: #EF4444;
        }
        .megaball {
            background: #3B82F6;
        }
        .plus {
            color: #888;
            font-size: 20px;
            margin: 0 5px;
        }
        .test-button {
            background: #FFD700;
            color: black;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            margin: 10px 5px;
        }
        .test-button:hover {
            background: #FFA500;
        }
        .success {
            color: #4CAF50;
        }
        .error {
            color: #f44336;
        }
        .verification {
            margin: 10px 0;
            padding: 10px;
            border-radius: 5px;
        }
        .verification.pass {
            background: #1B4332;
            border-left: 4px solid #4CAF50;
        }
        .verification.fail {
            background: #4A0E0E;
            border-left: 4px solid #f44336;
        }
    </style>
</head>
<body>
    <h1>üß™ Test - Visualizaci√≥n de N√∫meros Completos</h1>
    
    <div class="container">
        <h2>üéØ Predicciones de Prueba</h2>
        
        <!-- Powerball Test -->
        <div class="prediction-box">
            <h3>Powerball (5 + 1 = 6 n√∫meros totales)</h3>
            <div class="numbers" id="powerball-numbers">
                <span class="number">12</span>
                <span class="number">24</span>
                <span class="number">36</span>
                <span class="number">48</span>
                <span class="number">60</span>
                <span class="plus">+</span>
                <span class="bonus-number powerball">15</span>
            </div>
            <p>Confianza: 96.8% | Total: <strong id="powerball-count">6 n√∫meros</strong></p>
        </div>
        
        <!-- Mega Millions Test -->
        <div class="prediction-box">
            <h3>Mega Millions (5 + 1 = 6 n√∫meros totales)</h3>
            <div class="numbers" id="megamillions-numbers">
                <span class="number">7</span>
                <span class="number">14</span>
                <span class="number">21</span>
                <span class="number">28</span>
                <span class="number">35</span>
                <span class="plus">+</span>
                <span class="bonus-number megaball">9</span>
            </div>
            <p>Confianza: 94.2% | Total: <strong id="megamillions-count">6 n√∫meros</strong></p>
        </div>
        
        <!-- EuroMillions Test -->
        <div class="prediction-box">
            <h3>EuroMillions (5 + 2 = 7 n√∫meros totales)</h3>
            <div class="numbers" id="euromillions-numbers">
                <span class="number">3</span>
                <span class="number">17</span>
                <span class="number">29</span>
                <span class="number">41</span>
                <span class="number">50</span>
                <span class="plus">+</span>
                <span class="bonus-number">6</span>
                <span class="bonus-number">11</span>
            </div>
            <p>Confianza: 91.5% | Total: <strong id="euromillions-count">7 n√∫meros</strong></p>
        </div>
        
        <button class="test-button" onclick="runNumberTests()">üß™ Ejecutar Tests</button>
        <button class="test-button" onclick="testShareText()">üì± Test Compartir</button>
    </div>
    
    <div class="container">
        <h2>‚úÖ Resultados de Verificaci√≥n</h2>
        <div id="test-results"></div>
    </div>

    <div class="container">
        <h2>üì± Texto de Compartir</h2>
        <div id="share-text" style="background: #444; padding: 15px; border-radius: 8px; white-space: pre-line; font-size: 14px; line-height: 1.4;"></div>
    </div>

    <script>
        function runNumberTests() {
            const tests = [];
            
            // Test 1: Powerball debe tener 6 n√∫meros (5 principales + 1 powerball)
            const powerballs = document.querySelectorAll('#powerball-numbers .number, #powerball-numbers .bonus-number');
            tests.push({
                name: 'Powerball - 6 n√∫meros totales (5 + 1)',
                expected: 6,
                actual: powerballs.length,
                pass: powerballs.length === 6,
                details: `Encontrados: ${powerballs.length} n√∫meros (${document.querySelectorAll('#powerball-numbers .number').length} principales + ${document.querySelectorAll('#powerball-numbers .bonus-number').length} bonus)`
            });
            
            // Test 2: Mega Millions debe tener 6 n√∫meros (5 principales + 1 mega ball)
            const megamillions = document.querySelectorAll('#megamillions-numbers .number, #megamillions-numbers .bonus-number');
            tests.push({
                name: 'Mega Millions - 6 n√∫meros totales (5 + 1)',
                expected: 6,
                actual: megamillions.length,
                pass: megamillions.length === 6,
                details: `Encontrados: ${megamillions.length} n√∫meros (${document.querySelectorAll('#megamillions-numbers .number').length} principales + ${document.querySelectorAll('#megamillions-numbers .bonus-number').length} bonus)`
            });
            
            // Test 3: EuroMillions debe tener 7 n√∫meros (5 principales + 2 lucky stars)
            const euromillions = document.querySelectorAll('#euromillions-numbers .number, #euromillions-numbers .bonus-number');
            tests.push({
                name: 'EuroMillions - 7 n√∫meros totales (5 + 2)',
                expected: 7,
                actual: euromillions.length,
                pass: euromillions.length === 7,
                details: `Encontrados: ${euromillions.length} n√∫meros (${document.querySelectorAll('#euromillions-numbers .number').length} principales + ${document.querySelectorAll('#euromillions-numbers .bonus-number').length} bonus)`
            });
            
            // Test 4: Verificar que los n√∫meros bonus tienen estilos diferentes
            const bonusStyleTest = document.querySelectorAll('#powerball-numbers .bonus-number.powerball').length === 1 &&
                                   document.querySelectorAll('#megamillions-numbers .bonus-number.megaball').length === 1;
            tests.push({
                name: 'N√∫meros bonus tienen estilos diferenciados',
                expected: true,
                actual: bonusStyleTest,
                pass: bonusStyleTest,
                details: bonusStyleTest ? 'Powerball (rojo) y Mega Ball (azul) correctamente estilizados' : 'Estilos de n√∫meros bonus incorrectos'
            });
            
            // Test 5: Verificar separador "+"
            const plusSeparators = document.querySelectorAll('.plus').length;
            tests.push({
                name: 'Separadores "+" presentes',
                expected: 3,
                actual: plusSeparators,
                pass: plusSeparators === 3,
                details: `Separadores encontrados: ${plusSeparators}/3`
            });
            
            // Mostrar resultados
            displayTestResults(tests);
        }
        
        function displayTestResults(tests) {
            const resultsDiv = document.getElementById('test-results');
            const passedTests = tests.filter(t => t.pass).length;
            const totalTests = tests.length;
            
            let html = '';
            
            tests.forEach(test => {
                html += `
                    <div class="verification ${test.pass ? 'pass' : 'fail'}">
                        <strong>${test.name}:</strong><br>
                        <span class="${test.pass ? 'success' : 'error'}">
                            ${test.pass ? '‚úÖ PAS√ì' : '‚ùå FALL√ì'} - ${test.details}
                        </span>
                    </div>
                `;
            });
            
            // Resumen
            html += `
                <div style="margin: 20px 0; padding: 15px; background: ${passedTests === totalTests ? '#1B4332' : '#4A0E0E'}; border-radius: 8px; text-align: center; font-size: 18px; font-weight: bold;">
                    ${passedTests === totalTests 
                        ? `üéâ <span class="success">TODOS LOS TESTS PASARON (${passedTests}/${totalTests})</span>`
                        : `‚ö†Ô∏è <span class="error">${passedTests}/${totalTests} tests pasaron</span>`
                    }
                </div>
            `;
            
            resultsDiv.innerHTML = html;
        }
        
        function testShareText() {
            const prediction = {
                numbers: [12, 24, 36, 48, 60],
                bonusNumbers: [15],
                confidence: 0.968
            };
            
            const shareText = generateShareText(prediction, 'Powerball', 'es');
            document.getElementById('share-text').textContent = shareText;
            
            // Verificar que el texto incluye todos los n√∫meros
            const hasAllNumbers = shareText.includes('12, 24, 36, 48, 60 + 15');
            
            if (hasAllNumbers) {
                alert('‚úÖ El texto de compartir incluye todos los 6 n√∫meros correctamente!');
            } else {
                alert('‚ùå El texto de compartir no incluye todos los n√∫meros!');
            }
        }
        
        // Funci√≥n de ejemplo para generar texto de compartir
        function generateShareText(prediction, lottery, language = 'es') {
            const numbers = prediction.numbers.join(', ');
            const bonusNumbers = prediction.bonusNumbers ? ` + ${prediction.bonusNumbers.join(', ')}` : '';
            const confidence = Math.round(prediction.confidence * 100);
            const appUrl = 'https://gana-facil.vercel.app';
            
            return `¬°Hola! üëã\n\n` +
                   `Estoy usando una app incre√≠ble de IA que me est√° generando n√∫meros de loter√≠a con an√°lisis matem√°tico real. ` +
                   `Los resultados han sido sorprendentes.\n\n` +
                   `üéØ **${lottery} - Pr√≥ximo sorteo:**\n` +
                   `N√∫meros: ${numbers}${bonusNumbers}\n` +
                   `Confianza del an√°lisis: ${confidence}%\n\n` +
                   `üí∞ **Mi propuesta:**\n` +
                   `Te comparto estos n√∫meros y si ganas algo, compartimos:\n` +
                   `‚Ä¢ T√∫ te quedas con el 85%\n` +
                   `‚Ä¢ Yo 15% por compartir la predicci√≥n\n` +
                   `‚Ä¢ ¬°Ambos ganamos! ü§ù\n\n` +
                   `ü§ñ **Esta app es incre√≠ble** - analiza 200 sorteos hist√≥ricos, usa 6 algoritmos matem√°ticos y APIs en tiempo real. ` +
                   `Yo juego mis n√∫meros y tambi√©n los comparto porque tengo m√°s chances de ganar.\n\n` +
                   `**T√∫ no necesitas tenerla** - yo ya la tengo y me est√° dando resultados. ` +
                   `Solo te comparto los n√∫meros y jugamos juntos. üçÄ\n\n` +
                   `¬øTe animas? Sin riesgo para ti.\n\n` +
                   `PD: Si alg√∫n d√≠a te interesa, la app es: ${appUrl}`;
        }
        
        // Auto-ejecutar tests al cargar
        window.onload = function() {
            runNumberTests();
        };
    </script>
</body>
</html>
